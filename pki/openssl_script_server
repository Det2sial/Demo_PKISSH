# how to submit code to github
# always make sure the current branch is "server"
# and you push to github pki "server" branch

check branch 


# after received cacert
cd /home/pi/Project/pkixssh-demo/pki
ls

# bind hash value and check
cp cacert.pem /opt/pkix-ssh/etc/ca/crt
ln -s cacert.pem `openssl x509 -in cacert.pem -noout -hash`.0
ls -l

# config authorized_keys
vi ~/.ssh/authorized_keys

# type subject names
x509v3-sign-rsa subject= /C=US/ST=Colorado/O=Grimer Softwork/OU=R&D/CN=Pi


# enable ssh service
sudo /opt/pkix-ssh/sbin/sshd -d

# receive server cert and key from client


# copy key to etc folder
cd /home/pi/Project/pkixssh-demo/pki
ls
sudo cp server_rsa_ssh_valid /opt/pkix-ssh/etc

# remove old rsa key and rename the new key
cd /opt/pkix-ssh/etc
sudo rm ssh_host_rsa_key
sudo rm ssh_host_rsa_key.pub
sudo mv server_rsa_ssh_valid ssh_host_rsa_key


# enable ssh service
ps aux| grep sshd
sudo kill -9 xxxx
sudo /opt/pkix-ssh/sbin/sshd -d
