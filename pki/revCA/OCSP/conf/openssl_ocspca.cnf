[ ca ]
default_ca	= local_ca

[ local_ca ]
dir		= /home/grimer/project/ssh-demo/pki/OCSP
certificate	= $dir/ocspcacert.pem
database	= $dir/index.txt
new_certs_dir	= $dir/certs
private_key	= $dir/private/ocspcakey.pem
serial		= $dir/serial

crl_dir           = $dir/crl
crl_extensions    = crl_ext
crlnumber         = $dir/crlnumber
crl               = $dir/crl/intermediate.crl.pem
default_crl_days	= 365

default_days		= 1825
default_md		= md5
policy		= local_ca_policy
x509_extensions	= local_ca_extensions

[ local_ca_policy ]
countryName            = supplied
stateOrProvinceName    = supplied
#emailAddress          = supplied
organizationName       = supplied
organizationalUnitName = supplied
commonName             = supplied

[ local_ca_extensions ]
basicConstraints	= CA:false
nsCertType		= server

[ req ]
default_bits	= 2048
default_keyfile	= /home/grimer/ssh-demo/pki/OCSP/private/ocspcakey.pem
default_md	= md5

prompt			= no
distinguished_name	= root_ca_distinguished_name
x509_extensions		= root_ca_extensions

[ root_ca_distinguished_name ]
countryName            = US
stateOrProvinceName    = Colorado
organizationName       = Grimer Softwork
organizationalUnitName = R&D
commonName             = OCSP CA

[ root_ca_extensions ]
subjectKeyIdentifier = hash
authorityKeyIdentifier = keyid:always,issuer
basicConstraints = critical, CA:true
keyUsage = critical, digitalSignature, cRLSign, keyCertSign

[ usr_cert ]
basicConstraints = CA:FALSE
subjectKeyIdentifier = hash
authorityKeyIdentifier = keyid,issuer
authorityInfoAccess = OCSP;URI:http://localhost:9999
keyUsage = critical, digitalSignature, keyEncipherment
extendedKeyUsage = clientAuth

[ server_cert ]
basicConstraints = CA:FALSE
subjectKeyIdentifier = hash
authorityKeyIdentifier = keyid,issuer:always
authorityInfoAccess = OCSP;URI:http://localhost:9999
keyUsage = critical, digitalSignature, keyEncipherment
extendedKeyUsage = serverAuth

[ crl_ext ]
authorityKeyIdentifier=keyid:always

[ ocspsign_ext ]
basicConstraints = CA:FALSE
subjectKeyIdentifier = hash
authorityKeyIdentifier = keyid,issuer
keyUsage = critical, digitalSignature
extendedKeyUsage = critical, OCSPSigning
